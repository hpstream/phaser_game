<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>phaser 图片的使用</title>
		<style type="text/css">
			canvas {
				margin: 0 auto;
			}
		</style>
		<script src="js/phaser-2.4.1.min.js"></script>
	</head>

	<body>

		<div id="game">

		</div>
	</body>

	<script type="text/javascript">
		//确认了画布大小以后无法在修改画布大小了；
		var game = new Phaser.Game(400, 500, Phaser.AUTO, 'game');
		
		function initMap() {
			this.init = function() {
			};
			this.preload = function() {

				//加载背景图
				this.load.image('bg', 'image/map.png');

				//加载一张图片资源,这里的this就是 game,使用雪碧图，并把学雪碧图切成一帧一帧的
				this.load.spritesheet('gongbing', 'image/gongbing.png', 48, 64);
			};
			this.create = function() {

				//设置世界大小；
				game.world.setBounds(0, 0, 960, 960);
				this.add.image(0, 0, 'bg');
				//把图片资源加载到场景中
				this.add.image(0, 0, 'gongbing', 0);
				this.add.image(48, 64, 'gongbing', 5);

			}
			this.update = function() {

			}
		}

		function boot() {
			this.preload = function() {
				game.load.spritesheet('startbutton', './image/start.jpg', 205, 150);
			}
			this.create = function() {
				//鼠标或手指在按钮上时
				//鼠标或手指不在按钮上时
				//鼠标或手指不在按钮上时
				//按钮松开时
				game.add.button(100, 100, 'startbutton', function() {
					//改变canvas大小
					
					game.state.start('initMap'); //开启一个场景
				}, 1,0,1,0);
			}

		}

		game.state.add('initMap', initMap); //导入场景
		game.state.add('boot', boot); //导入场景
		game.state.start('boot'); //开启一个场景
	</script>

</html>